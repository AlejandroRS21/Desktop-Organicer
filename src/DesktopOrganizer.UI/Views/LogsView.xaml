<Window x:Class="DesktopOrganizer.UI.Views.LogsView"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Historial de Operaciones" Height="500" Width="900"
        Background="{DynamicResource Bg.Primary}"
        WindowStartupLocation="CenterScreen">
    
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- Header -->
        <Border Background="{DynamicResource Bg.Secondary}" Padding="20" BorderBrush="{DynamicResource Border.Light}" BorderThickness="0,0,0,1">
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>
                <StackPanel>
                    <TextBlock Text="ðŸ“‹ Historial de Operaciones" Style="{DynamicResource Text.Header}" FontSize="20"/>
                    <TextBlock Text="Registro de movimientos y acciones realizadas por el organizador" Style="{DynamicResource Text.Caption}" Margin="0,5,0,0"/>
                </StackPanel>
                
                <StackPanel Grid.Column="1" Orientation="Horizontal">
                    <Button Content="Actualizar" Command="{Binding LoadLogsCommand}" Style="{DynamicResource Button.Secondary}"/>
                </StackPanel>
            </Grid>
        </Border>

        <!-- Logs List -->
        <Border Grid.Row="1" Margin="20" Style="{DynamicResource Card}" Padding="0">
            <DataGrid ItemsSource="{Binding Logs}" AutoGenerateColumns="False" IsReadOnly="True" 
                      Background="Transparent" BorderThickness="0" HeadersVisibility="Column"
                      GridLinesVisibility="Horizontal" HorizontalGridLinesBrush="{DynamicResource Border.Light}"
                      RowBackground="Transparent" AlternatingRowBackground="{DynamicResource Bg.Surface.Hover}">
                <DataGrid.Resources>
                    <Style TargetType="DataGridColumnHeader">
                        <Setter Property="Background" Value="{DynamicResource Bg.Secondary}"/>
                        <Setter Property="Padding" Value="10"/>
                        <Setter Property="Foreground" Value="{DynamicResource Text.Secondary}"/>
                        <Setter Property="FontWeight" Value="SemiBold"/>
                        <Setter Property="BorderThickness" Value="0,0,0,1"/>
                        <Setter Property="BorderBrush" Value="{DynamicResource Border.Light}"/>
                    </Style>
                    <Style TargetType="DataGridCell">
                        <Setter Property="Padding" Value="10,8"/>
                        <Setter Property="Template">
                            <Setter.Value>
                                <ControlTemplate TargetType="DataGridCell">
                                    <Border Padding="{TemplateBinding Padding}" Background="{TemplateBinding Background}" SnapsToDevicePixels="True">
                                        <ContentPresenter SnapsToDevicePixels="{TemplateBinding SnapsToDevicePixels}"/>
                                    </Border>
                                </ControlTemplate>
                            </Setter.Value>
                        </Setter>
                    </Style>
                </DataGrid.Resources>
                <DataGrid.Columns>
                    <DataGridTextColumn Header="Hora" Binding="{Binding Timestamp}" Width="150" Foreground="{DynamicResource Text.Primary}"/>
                    <DataGridTextColumn Header="AcciÃ³n" Binding="{Binding Action}" Width="100" FontWeight="Medium" Foreground="{DynamicResource Text.Primary}"/>
                    <DataGridTextColumn Header="Archivo" Binding="{Binding FileName}" Width="200" Foreground="{DynamicResource Text.Primary}"/>
                    <DataGridTextColumn Header="Origen" Binding="{Binding SourcePath}" Width="200" Foreground="{DynamicResource Text.Secondary}"/>
                    <DataGridTextColumn Header="Destino" Binding="{Binding DestinationPath}" Width="200" Foreground="{DynamicResource Text.Secondary}"/>
                    <DataGridCheckBoxColumn Header="Ã‰xito" Binding="{Binding Success}" Width="60"/>
                    <DataGridTextColumn Header="Error" Binding="{Binding ErrorMessage}" Width="*" Foreground="{DynamicResource Status.Error}"/>
                </DataGrid.Columns>
            </DataGrid>
        </Border>

        <!-- Status Bar -->
        <Border Grid.Row="2" Background="{DynamicResource Bg.Secondary}" Padding="10" BorderBrush="{DynamicResource Border.Light}" BorderThickness="0,1,0,0">
            <TextBlock Text="{Binding StatusMessage}" Foreground="{DynamicResource Text.Secondary}" FontSize="12"/>
        </Border>
    </Grid>
</Window>
